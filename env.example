# =============================================================================
# ENDUBACKEND ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env files to version control

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
NODE_ENV=production
PORT=4000
APP_BASE_URL=https://your-api-domain.com
FRONTEND_URL=https://your-frontend-domain.com

# =============================================================================
# SUPABASE CONFIGURATION
# =============================================================================
# Get these from your Supabase project dashboard
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here
SUPABASE_JWT_SECRET=your-jwt-secret-here

# =============================================================================
# STRIPE BILLING CONFIGURATION
# =============================================================================
# Get these from your Stripe dashboard
STRIPE_SECRET_KEY=sk_live_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret
STRIPE_PRICE_ID_PRO=price_your-pro-plan-price-id

# =============================================================================
# LIVEKIT CONFIGURATION
# =============================================================================
# Get these from your LiveKit dashboard (https://cloud.livekit.io/)
# Required for live video functionality
LIVEKIT_API_KEY=your-livekit-api-key
LIVEKIT_API_SECRET=your-livekit-api-secret
NEXT_PUBLIC_LIVEKIT_URL=wss://your-livekit-domain.com

# LiveKit Configuration Notes:
# - LIVEKIT_API_KEY: Your LiveKit API key (starts with 'API...')
# - LIVEKIT_API_SECRET: Your LiveKit API secret (starts with 'secret...')
# - NEXT_PUBLIC_LIVEKIT_URL: Your LiveKit WebSocket URL (e.g., wss://your-project.livekit.cloud)
# - These are required for live video sessions, chat, and real-time features
# - If not configured, the system will fall back to a basic video interface

# =============================================================================
# AGORA REAL-TIME & CLOUD RECORDING CONFIGURATION
# =============================================================================
# Required for Agora-powered live classroom audio/video and cloud recordings
AGORA_APP_ID=your-agora-app-id
AGORA_APP_CERTIFICATE=your-agora-app-certificate
AGORA_CUSTOMER_ID=your-agora-rest-api-customer-id
AGORA_CUSTOMER_SECRET=your-agora-rest-api-customer-secret

# Optional: configure cloud recording storage (Agora Cloud by default)
# Vendor codes: 0=Agora Cloud, 1=AWS S3, 2=Alibaba, 3=Qiniu, 4=Tencent
AGORA_STORAGE_VENDOR=0
AGORA_STORAGE_REGION=0
# Required when using your own storage (vendor != 0)
# AGORA_STORAGE_BUCKET=your-storage-bucket
# AGORA_STORAGE_ACCESS_KEY=your-storage-access-key
# AGORA_STORAGE_SECRET_KEY=your-storage-secret-key
# Optional prefix for stored files (e.g. recordings/, live-classes/)
# AGORA_STORAGE_FILE_PREFIX=recordings

# Optional: public base URL for generated recording download links
# e.g. https://your-cdn.com/recordings
# AGORA_RECORDING_FILE_BASE_URL=https://your-cdn.com/recordings

# =============================================================================
# BUSINESS LOGIC SETTINGS
# =============================================================================
# Maximum number of students allowed for free tier
FREE_STUDENTS_LIMIT=5

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
# Session timeout in minutes
SESSION_TIMEOUT=480

# Rate limiting settings
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=info
LOG_FILE_PATH=./logs/app.log

# =============================================================================
# FILE UPLOAD SETTINGS
# =============================================================================
MAX_FILE_SIZE=104857600
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp,video/mp4,video/webm,video/ogg,application/pdf,text/plain,text/csv,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation,application/zip,application/x-zip-compressed

# =============================================================================
# SUPABASE STORAGE SETTINGS
# =============================================================================
# Storage bucket name for file uploads
SUPABASE_STORAGE_BUCKET=Files
# Maximum file size in bytes (100MB)
SUPABASE_MAX_FILE_SIZE=104857600
# File upload timeout in seconds
SUPABASE_UPLOAD_TIMEOUT=300

# =============================================================================
# EMAIL CONFIGURATION (Optional)
# =============================================================================
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# EMAIL_FROM=noreply@yourdomain.com

# =============================================================================
# MONITORING & ANALYTICS (Optional)
# =============================================================================
# SENTRY_DSN=your-sentry-dsn
# GOOGLE_ANALYTICS_ID=your-ga-id

# =============================================================================
# DEVELOPMENT SETTINGS (Only for development)
# =============================================================================
# Uncomment these for development only
# NODE_ENV=development
# CORS_ORIGIN=http://localhost:3000
# ENABLE_DEV_BYPASS=true
